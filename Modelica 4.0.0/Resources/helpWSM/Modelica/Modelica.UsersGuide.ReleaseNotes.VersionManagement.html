
<html>
<head>
  <meta charset="UTF-8">
  <title>Modelica: UsersGuide.ReleaseNotes.VersionManagement</title>
  <link rel=stylesheet type=text/css href="resources/documentation.css">
  <script src="resources/jquery.min.js"></script>
  <script src="resources/scripts.js"></script>
</head>
<body>
<div class="wrapper">
<nav>
  <ul class="cf">
    <li><a href="https://www.wolfram.com/system-modeler/">System Modeler</a></li>
  <li><a href="Modelica.html">Modelica</a></li>
  <li><a href="Modelica.UsersGuide.html">UsersGuide</a></li>
  <li><a href="Modelica.UsersGuide.ReleaseNotes.html">ReleaseNotes</a></li>
  <li><a href="Modelica.UsersGuide.ReleaseNotes.VersionManagement.html">VersionManagement</a></li>
  </ul>
</nav>
<header>
  <table><tr><td>
    <h1>VersionManagement</h1>
    <p>Version Management</p>
  </td><td>
    <div><img width="60" height="60" src="resources/icons/Modelica.UsersGuide.ReleaseNotes.VersionManagement_60x60.png"></div>
  </td></tr></table>
</header>
<section id="information">
<h1>Information</h1>
<div class="hideable">
<p class="aside">This information is part of the Modelica Standard Library maintained by the Modelica Association.</p>
<h4>Development branches</h4>
<p>
Further development and maintenance of the Modelica Standard Library is performed with
two branches on the public <a href="https://github.com/modelica/ModelicaStandardLibrary.git">GitHub repository</a> of the Modelica Association.
</p>
<p>
Since version 4.0.0 the Modelica Standard Library uses semantic versioning following the
convention:
</p>
 <blockquote><strong><code>MAJOR.MINOR.BUGFIX</code></strong></blockquote>
<p>
This provides a mechanism for maintaining releases and bug-fixes in a well defined way and is inspired
by (but not identical to) <a href="https://semver.org">https://semver.org</a>.
</p>

<h5>Main development branch</h5>
<p>
Name: "master"
</p>

<p>
This branch contains the actual development version, i.e., all bug-fixes
and new features.
New features must have been tested before including them.
However, the exhaustive tests for a new version are (usually) not performed.
This version is usually only be used by the developers of the
Modelica Standard Library and is not utilized by Modelica users.
</p>

<h5>Maintenance branch</h5>
<p>
Name: "maint/4.0.x"
</p>

<p>
This branch contains the released Modelica Standard Library version (e.g., v4.0.0)
where all bug-fixes since this release date are included
(also consecutive <code>BUGFIX</code> versions 4.0.1, 4.0.2, etc.,
up to when a new <code>MINOR</code> or <code>MAJOR</code>  release becomes available;
i.e., there will not be any further <code>BUGFIX</code> versions (i.e., 4.0.x) of a previous release).
These bug-fixes might not yet be tested with all test cases or with
other Modelica libraries. The goal is that a vendor may take this version at
any time for a new release of its software, in order to incorporate the latest
bug fixes.
</p>

<h4>Contribution workflow</h4>
<p>
The general <a href="https://guides.github.com/activities/forking/">contribution workflow</a> is usually as follows:
</p>

<ol>
<li>Fork the repository to your account by
   <a href="https://help.github.com/articles/fork-a-repo/">using the Fork button</a> of the GitHub repository site.</li>
<li>Clone the forked repository to your computer. Make sure to checkout the maintenance branch if the bug fix is going to get merged to the maintenance branch.</li>
<li>Create a new topic branch and give it a meaningful name, like, e.g., "issue2161-fix-formula".</li>
<li>Do your code changes and commit them, one change per commit.<br>
   Single commits can be copied to other branches.<br>
   Multiple commits can be squashed into one, but splitting is difficult.</li>
<li>Once you are done, push your topic branch to your forked repository.</li>
<li>Go to the upstream <a href="https://github.com/modelica/ModelicaStandardLibrary.git">https://github.com/modelica/ModelicaStandardLibrary.git</a> repository and submit a <a href="https://help.github.com/articles/about-pull-requests/">Pull Request</a> (PR).
   <ul>
   <li>If the PR is related to a certain issue, reference it by its number like this: #2161.</li>
   <li>Once a pull request is opened, you can discuss and <a href="https://help.github.com/articles/about-pull-request-reviews/">review</a> the potential changes with collaborators and add follow-up commits before the changes are merged into the repository.</li>
   <li>If you have not already signed the Modelica Association Contributor License Agreement (CLA) you need to do so one-time.<br>
   You can sign the CLA electronically using the CLA Assistant service and your GitHub account. There is no need to scan and send any documents by mail.</li>
   </ul></li>
<li>Update your branch with the requested changes. If necessary, merge the latest
   "master" branch into your topic branch and solve all merge conflicts in your topic branch.</li>
</ol>

<p>
There are some special guidelines for changes to the maintenance branch.
</p>

<ul>
<li> Every change to the maintenance branch has to get cherry-picked at the "master"
         branch (see above), too.</li>
<li> When a new <code>BUGFIX</code> release is due the annotations
     "version" and "versionDate" need to be updated.<br>
     Example:
         <blockquote><pre>
annotation(version      = "4.0.1",
           versionDate  = "2020-09-29",
           dateModified = "2020-09-29 07:40:19Z",
           revisionId   = "$F&#8203;ormat:%h %ci$")
         </pre></blockquote>
     The "dateModfied" is optional but might help identify the exact creation time of a release.
     The "revisionId" field is a special annotation to identify the exact commit that the released
     version represents.<br>
     Example:
     <blockquote>
        Running the export command "<code>git archive -o msl.zip v4.0.0</code>" will
        expand the above "revisionId" place holder to something like:
        <blockquote><pre>revisionId = "c04e23a0d 2020-04-01 12:00:00 +0200$"</pre></blockquote>
     </blockquote>
     </li>
</ul>

<p>
As a recommendation, a valid bug-fix to the maintenance branch may contain one or
more of the following changes.
</p>

<ul>
<li> Correcting an equation.</li>
<li> Correcting attributes quantity/unit/defaultUnit in a declaration.</li>
<li> Improving/fixing the documentation.</li>
<li> Introducing a new name in the public section of a class
         (model, package, ...) or in any section of a partial class is <strong>not</strong> allowed.
         Since otherwise, a user might use this new name and when storing its model
         and loading it with an older bug-fix version, an error would occur.</li>
<li> Introducing a new name in the protected section of a non-partial
         class should only be done if absolutely necessary to fix a bug.
         The problem is that this might be non-backward compatible,
         because a user might already extend from this class and already using the same name.</li>
</ul>
</div>
</section>
</div>
</body>
</html>