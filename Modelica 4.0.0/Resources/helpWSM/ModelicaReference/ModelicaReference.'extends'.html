
<html>
<head>
  <meta charset="UTF-8">
  <title>ModelicaReference: 'extends'</title>
  <link rel=stylesheet type=text/css href="resources/documentation.css">
  <script src="resources/jquery.min.js"></script>
  <script src="resources/scripts.js"></script>
</head>
<body>
<div class="wrapper">
<nav>
  <ul class="cf">
    <li><a href="https://www.wolfram.com/system-modeler/">System Modeler</a></li>
  <li><a href="ModelicaReference.html">ModelicaReference</a></li>
  <li><a href="ModelicaReference.'extends'.html">'extends'</a></li>
  </ul>
</nav>
<header>
  <table><tr><td>
    <h1>'extends'</h1>
    <p>extends</p>
  </td><td>
    <div><img width="60" height="60" src="resources/icons/ModelicaReference.'extends'_60x60.png"></div>
  </td></tr></table>
</header>
<section id="information">
<h1>Information</h1>
<div class="hideable">
<p class="aside">This information is part of the Modelica Standard Library maintained by the Modelica Association.</p>
<p>
Inheritance from base class
</p>
<h4>Examples</h4>

<blockquote><pre><strong>class</strong> A
  <strong>parameter</strong> Real a, b;
<strong>end</strong> A;

<strong>class</strong> B
  <strong>extends</strong> A(b=2);
<strong>end</strong> B;

<strong>class</strong> C
  <strong>extends</strong> B(a=1);
<strong>end</strong> C;</pre></blockquote>

<p>From the example above we get the following instantiated
class:</p>

<blockquote><pre><strong>class</strong> Cinstance
  <strong>parameter</strong> Real a=1;
  <strong>parameter</strong> Real b=2;
<strong>end</strong> Cinstance;</pre></blockquote>

<p>The ordering of the merging rules ensures that, given
classes A and B defined above,</p>

<blockquote><pre><strong>class</strong> C2
  B bcomp(b=3);
<strong>end</strong> C2;</pre></blockquote>

<p>yields an instance with <code>bcomp.b=3</code>, which overrides <code>b=2</code>.</p>

<h4>Syntax</h4>

<p>See section on <code>extends_clause</code> in the <a href="ModelicaReference.ModelicaGrammar.html">Modelica Grammar</a>.</p>

<h4>Description</h4>

<p>The name of the base class is looked up in the partially
instantiated parent of the extends clause. The found base
class is instantiated with a new environment and the
partially instantiated parent of the extends clause. The new
environment is the result of merging</p>

<ol>
  <li>arguments of all parent environments that match names in the instantiated base class</li>
  <li>the optional class modification of the extends clause</li>
</ol>

<p>in that order.</p>

<p>The elements of the instantiated base class become elements
of the instantiated parent class.</p>

<p>The declaration elements of the instantiated base class shall either</p>

<ul>
  <li>not already exist in the partially instantiated parent class
      <em>[i.e., have different names]</em>.</li>
  <li>be exactly identical to any element of the instantiated parent
      class with the same name and the same level of protection
      (<strong>public</strong> or <strong>protected</strong>) and same contents. In this
      case, one of the elements is ignored (since they are identical
      it does not matter which one).</li>
</ul>

<p>Otherwise the model is incorrect.</p>

<p>Equations of the instantiated base class that are syntactically
equivalent to equations in the instantiated parent class are discarded.
<em>[Note: equations that are mathematically equivalent but not
syntactically equivalent are not discarded, hence yield an
overdetermined system of equations.]</em></p>

<p>Since specialized classes of different kinds have different properties,
only specialized classes that are "in some sense compatible" to each other
can be derived from each other via inheritance. The following table
shows which kind of specialized class can be used in an extends clause of
another kind of specialized class (the "grey" cells mark the few exceptional
cases, where a specialized class can be derived from a specialized class of
another kind):</p>

<table border="1" cellpadding="1" cellspacing="1" >
<thead>
<tr>
  <th></th><th colspan="12">Base Class</th>
</tr>
<tr>
  <td><strong>Derived Class</strong></td>
  <td>package</td>
  <td>operator</td>
  <td>function</td>
  <td>operator function</td>
  <td>type</td>
  <td>record</td>
  <td>operator record</td>
  <td>expandable connector</td>
  <td>connector</td>
  <td>block</td>
  <td>model</td>
  <td>class</td>
</tr>
</thead>
<tbody>
<tr>
  <td>package</td>
  <td>yes</td>
  <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
  <td style="background-color:lightgray">yes</td>
</tr>
<tr>
  <td>operator</td>
  <td></td>
  <td>yes</td>
  <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
  <td style="background-color:lightgray">yes</td>
</tr>
<tr>
  <td>function</td>
  <td></td>
  <td></td>
  <td>yes</td>
  <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>
  <td style="background-color:lightgray">yes</td>
</tr>
<tr>
  <td>operator<br>function</td>
  <td></td>
  <td></td>
  <td style="background-color:lightgray">yes</td>
  <td>yes</td>
  <td></td><td></td><td></td><td></td><td></td><td></td><td></td>
  <td style="background-color:lightgray">yes</td>
</tr>
<tr>
  <td>type</td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td>yes</td>
  <td></td><td></td><td></td><td></td><td></td><td></td>
  <td style="background-color:lightgray">yes</td>
</tr>
<tr>
  <td>record</td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td>yes</td>
  <td></td><td></td><td></td><td></td><td></td>
  <td style="background-color:lightgray">yes</td>
</tr>
<tr>
  <td>operator<br>record</td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td>yes</td>
  <td></td><td></td><td></td><td></td>
  <td style="background-color:lightgray">yes</td>
</tr>
<tr>
  <td>expandable<br>connector</td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td>yes</td>
  <td></td><td></td><td></td>
  <td style="background-color:lightgray">yes</td>
</tr>
<tr>
  <td>connector</td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td style="background-color:lightgray">yes</td>
  <td style="background-color:lightgray">yes</td>
  <td style="background-color:lightgray">yes</td>
  <td style="background-color:lightgray">yes</td>
  <td>yes</td>
  <td></td><td></td>
  <td style="background-color:lightgray">yes</td>
</tr>
<tr>
  <td>block</td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td style="background-color:lightgray">yes</td>
  <td></td>
  <td></td>
  <td></td>
  <td>yes</td>
  <td></td>
  <td style="background-color:lightgray">yes</td>
</tr>
<tr>
  <td>model</td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td style="background-color:lightgray">yes</td>
  <td></td>
  <td></td>
  <td></td>
  <td style="background-color:lightgray">yes</td>
  <td>yes</td>
  <td style="background-color:lightgray">yes</td>
</tr>
<tr>
  <td>class</td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td>yes</td>
</tr>
</tbody>
</table>

<p>The specialized classes <code>package</code>, <code>operator</code>,
<code>function</code>, <code>type</code>, <code>record</code>,
<code>operator record</code> and <code>expandable connector</code>
can only be derived from their own kind
[<em>(e.g., a package can only be base class for packages.
All other kinds of classes can use the import statement to use the contents
of a package)</em>] and from <code>class</code>.</p>
</div>
</section>
</div>
</body>
</html>